
@using PostaFlya.Models.Likes

@{IEnumerable<LikeModel> likes = ViewBag.Template != null && ViewBag.Template ? new List<LikeModel>() { LikeModel.DefaultForTemplate() } : (ViewBag.Likes ?? new List<LikeModel>());}

@Html.Partial("State/PageStateAdd", "Likes")
<div  class="likes" data-bind="with:likes">
    <div data-bind="visible: bf.currentBrowserInstance.IsParticipant()">
        <form data-bind="submit: addLike">
            <button type="submit">Like</button>
        </form>
    </div>
    <ul data-bind="foreach:List" class="likes-list">
        @foreach (LikeModel like in likes)
        {
            <li class="likes-item">
                @Html.DisplayFor(m => like.Browser, "BrowserAvatar")
            </li>    
        }
    </ul>
</div>
