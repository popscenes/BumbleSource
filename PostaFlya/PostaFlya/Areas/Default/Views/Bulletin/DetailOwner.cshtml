
@using PostaFlya.Models.Board
@using PostaFlya.Models.Location
@using PostaFlya.Areas.Default.Models

@model DefaultDetailsViewModel

@{var flier = Model.Flier;
    BoardSummaryModel contactDets = Model.Flier.VenueBoard ?? new BoardSummaryModel();}

<div class="flier-view flier-view-default" data-bind="click: function (event, data) { }, clickBubble: false">
    <div class="flier-img">
        <img data-bind="imgRetry: FlierImageUrl, bulletinimg:FlierImageUrl"/>
    </div>

    <div class="flier-details clear-fix" data-bind="with:Flier">
        

        <div>
        <div class="flier-event-dates" >
            
            <ul data-bind="if: false" class="event-dates-list">
                @foreach (var eventDate in flier.EventDates.Select(d => d.DateTime.ToLongDateString()))
                {
                    <li> @eventDate </li>
                }
            </ul>
            <ul data-bind="foreach: Flier.EventDates" class="event-dates-list">
                <li data-bind="text: new Date($data).toDateString()"></li> 
            </ul>
                
            
        </div>
    </div>
        
        <h3 class="flier-title" >
            <span class="edit-from-flya">
            <a class="std-btn" data-bind="click:$root.CreateFlierInstance.EditFlierLaunch">EDIT</a>
            </span>
            <span data-bind="text:Title">@flier.Title</span>
            (Status <span data-bind="text:Status">@flier.Status</span>)    
        </h3>
            
       
    </div>
             
         
    <div data-bind="if:Flier.VenueBoard != null">
        <div class="flier-contact-dets" data-bind="with:Flier.VenueBoard">
            
            @Html.Partial("Contact/EventContactDetailsViewPartial", contactDets)
        </div>
    </div> 
    

    
@*    @Html.Partial("Flier/AnalyticSummary")*@

        
   

    <div>
        <div class="flier-desc" data-bind="simpletext:Flier.Description">
            @flier.Description
        </div> 
    </div>

</div>



